"use strict";(self.webpackChunkcampaign_listing_app=self.webpackChunkcampaign_listing_app||[]).push([[607],{607:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(540),r=n(875),i=n(848),o=function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())},l=[{headerName:"Campaign ID",field:"campaignId",filter:"agTextColumnFilter",width:100,comparator:o},{headerName:"Campaign Name",field:"campaignName",filter:"agTextColumnFilter",width:350,comparator:o},{headerName:"Client Name",field:"clientName",filter:"agTextColumnFilter",comparator:o},{headerName:"Start Date",field:"startDate",filter:"agDateColumnFilter"},{headerName:"End Date",field:"endDate",filter:"agDateColumnFilter"},{headerName:"Status",field:"status",editable:!1,comparator:o},{headerName:"Budget ($)",field:"budget",filter:"agNumberColumnFilter",valueFormatter:function(e){return"$".concat(Number(e.value).toLocaleString())}},{headerName:"Spent ($)",field:"spent",filter:"agNumberColumnFilter",valueFormatter:function(e){return"$".concat(Number(e.value).toLocaleString())}},{headerName:"Impressions",field:"impressions",filter:"agNumberColumnFilter"},{headerName:"Clicks",field:"clicks",filter:"agNumberColumnFilter"},{headerName:"Conversion Rate (%)",field:"conversionRate",valueGetter:function(e){var t=e.data,n=t.clicks,a=t.impressions;return a?(n/a*100).toFixed(2):0},valueFormatter:function(e){return"".concat(e.value,"%")}},{headerName:"Channel",field:"channel",comparator:o,filter:"agTextColumnFilter"},{headerName:"Manager",field:"manager",comparator:o},{headerName:"Thumbnail",field:"thumbnail",cellRenderer:function(e){return(0,i.jsx)("img",{src:e.value,className:"thumbnail",alt:"Thumbnail"})},sortable:!1,filter:!1,editable:!1},{headerName:"Last Modified",field:"lastModified",filter:"agDateColumnFilter",cellEditor:"agDatePicker"}],u=n(12),c=["Draft","Scheduled","Active","Completed","Cancelled"],s=["Email","Social Media","Display","SMS","Search"],d=n(948),m=n(961);const f=function(e){var t=e.children,n=a.useRef(null);return n.current||(n.current=document.createElement("div"),n.current.className="modal-container"),(0,a.useEffect)(function(){var e=document.getElementById("modal-root");return e&&e.appendChild(n.current),function(){n.current&&e&&e.removeChild(n.current)}},[]),(0,m.createPortal)((0,i.jsx)("div",{children:t}),n.current)};var p=n(346);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=h(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}p.syG.registerModules([p.JKr]);const j=function(){var e=(0,a.useRef)(),t=(0,a.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Array.from({length:e}).map(function(e,t){var n=u.a.number.int({min:1e3,max:1e5}),a=u.a.number.int({min:50,max:n}),r=u.a.finance.amount(100,1e5,2),i=u.a.finance.amount(Number(r),Number(r)+2e4,2);return{campaignId:"CMP-".concat(1e3+t),campaignName:u.a.company.catchPhrase(),clientName:u.a.company.name(),startDate:u.a.date.past().toLocaleDateString(),endDate:u.a.date.future().toLocaleDateString(),status:u.a.helpers.arrayElement(c),budget:Number(i),spent:Number(r),impressions:n,clicks:a,conversionRate:Number((a/n*100).toFixed(2)),channel:u.a.helpers.arrayElement(s),manager:u.a.person.fullName(),thumbnail:u.a.image.avatarGitHub(),lastModified:u.a.date.recent().toLocaleDateString()}})}(50)},[]),n=y((0,a.useState)(t),2),o=n[0],m=n[1],p=y((0,a.useState)(""),2),h=p[0],g=p[1],x=y((0,a.useState)(!1),2),j=x[0],C=x[1],N=y((0,a.useState)([]),2),S=N[0],D=N[1],w=y((0,a.useState)(""),2),O=w[0],F=w[1],k=y((0,a.useState)(""),2),E=k[0],P=k[1],M=(0,a.useMemo)(function(){return{resizable:!0,sortable:!0,filter:!0,flex:1,floatingFilter:!0,editable:!0,minWidth:200,maxWidth:300}},[]);(0,a.useEffect)(function(){var t;null!==(t=e.current)&&void 0!==t&&t.api&&(0===o.length?e.current.api.showNoRowsOverlay():e.current.api.hideOverlay())},[o]);var I=(0,a.useCallback)(function(e){var t=o.map(function(t){return t.campaignId===e.data.campaignId?e.data:t});m(t)},[o]),R=(0,a.useCallback)(function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.api;n&&(n.showLoadingOverlay(),setTimeout(function(){n.hideOverlay()},1e3))},[]),L=function(){C(!1)};return(0,i.jsxs)("div",{className:"Ag-grid-container",children:[(0,i.jsxs)("div",{className:"theme-toggler",children:[(0,i.jsx)("input",{name:"theme-toggler",type:"checkbox",onChange:(0,d.S2)()}),(0,i.jsx)("label",{htmlFor:"theme-toggler",children:"Dark Mode"}),(0,i.jsx)("button",{onClick:function(){var t;null!==(t=e.current)&&void 0!==t&&t.api&&e.current.api.exportDataAsCsv({fileName:"campaigns.csv"})},children:"Export CSV"}),(0,i.jsx)("button",{onClick:function(){C(!0)},disabled:S.length<=1,style:{marginLeft:"10px"},children:"Mass Edit"})]}),(0,i.jsx)("input",{type:"text",placeholder:"Search...",value:h,onChange:function(t){var n=t.target.value;g(n),e.current.api.setGridOption("quickFilterText",n)},id:"quickFilter",name:"quickFilter",style:{marginBottom:"10px",padding:"5px",font:"inherit"}}),(0,i.jsx)(r.W6,{ref:e,theme:(0,d.DP)(),rowData:o,columnDefs:l,onGridReady:function(e){o&&0!==o.length||e.api.showNoRowsOverlay()},defaultColDef:M,onCellEditingStopped:I,animateRows:!0,onFilterChanged:function(){setTimeout(function(){var t=e.current.api;0===t.getDisplayedRowCount()?t.showNoRowsOverlay():t.hideOverlay()},0)},pagination:!0,rowSelection:"multiple",paginationPageSize:20,onPaginationChanged:R,onSelectionChanged:function(){var t=e.current.api.getSelectedNodes().map(function(e){return e.data});D(t)}}),j?(0,i.jsx)(f,{children:(0,i.jsx)("div",{className:"modal",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("h3",{children:"Mass Edit"}),(0,i.jsxs)("label",{children:["Field to Edit:",(0,i.jsxs)("select",{value:O,onChange:function(e){return F(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Select Field"}),(0,i.jsx)("option",{value:"campaignId",children:"CampaignId"}),(0,i.jsx)("option",{value:"campaignName",children:"CampaignName"}),(0,i.jsx)("option",{value:"clientName",children:"ClientName"}),(0,i.jsx)("option",{value:"startDate",children:"StartDate"}),(0,i.jsx)("option",{value:"endDate",children:"EndDate"}),(0,i.jsx)("option",{value:"status",children:"Status"}),(0,i.jsx)("option",{value:"budget",children:"Budget"}),(0,i.jsx)("option",{value:"spent",children:"Spent"}),(0,i.jsx)("option",{value:"impressions",children:"Impressions"}),(0,i.jsx)("option",{value:"clicks",children:"Clicks"}),(0,i.jsx)("option",{value:"conversionRate",children:"ConversionRate"}),(0,i.jsx)("option",{value:"channel",children:"Channel"}),(0,i.jsx)("option",{value:"manager",children:"Manager"}),(0,i.jsx)("option",{value:"campaign",children:"Campaign"}),(0,i.jsx)("option",{value:"lastModified",children:"Last Modified"})]})]}),(0,i.jsxs)("label",{children:["New Value:",(0,i.jsx)("input",{type:"text",value:E,onChange:function(e){return P(e.target.value)}})]}),(0,i.jsxs)("div",{className:"modal-actions",children:[(0,i.jsx)("button",{onClick:function(){var e=o.map(function(e){return S.some(function(t){return t.campaignId===e.campaignId})?v(v({},e),{},b({},O,E)):e});m(e),L()},children:"Update"}),(0,i.jsx)("button",{onClick:L,children:"Cancel"})]})]})})}):null]})}}}]);
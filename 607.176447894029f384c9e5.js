"use strict";(self.webpackChunkcampaign_listing_app=self.webpackChunkcampaign_listing_app||[]).push([[607],{607:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(540),r=a(875),i=a(848),l=function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())},o=[{headerName:"",checkboxSelection:!0,headerCheckboxSelection:!0,pinned:"left",width:50,maxWidth:50,sortable:!1,filter:!1,editable:!1,resizable:!1,cellClass:"checkbox-cell",suppressMenu:!0,suppressMovable:!0},{headerName:"Campaign ID",field:"campaignId",filter:"agTextColumnFilter",width:100,comparator:l,valueFormatter:function(e){return"#".concat(e.value)},editable:!1},{headerName:"Campaign Name",field:"campaignName",filter:"agTextColumnFilter",width:350,comparator:l},{headerName:"Client Name",field:"clientName",filter:"agTextColumnFilter",comparator:l},{headerName:"Start Date",field:"startDate",filter:"agDateColumnFilter"},{headerName:"End Date",field:"endDate",filter:"agDateColumnFilter"},{headerName:"Status",field:"status",editable:!1,comparator:l},{headerName:"Budget ($)",field:"budget",filter:"agNumberColumnFilter",valueFormatter:function(e){return"$".concat(Number(e.value).toLocaleString())}},{headerName:"Spent ($)",field:"spent",filter:"agNumberColumnFilter",valueFormatter:function(e){return"$".concat(Number(e.value).toLocaleString())}},{headerName:"Impressions",field:"impressions",filter:"agNumberColumnFilter"},{headerName:"Clicks",field:"clicks",filter:"agNumberColumnFilter"},{headerName:"Conversion Rate (%)",field:"conversionRate",valueGetter:function(e){var t=e.data,a=t.clicks,n=t.impressions;return n?(a/n*100).toFixed(2):0},valueFormatter:function(e){return"".concat(e.value,"%")}},{headerName:"Channel",field:"channel",comparator:l,filter:"agTextColumnFilter"},{headerName:"Manager",field:"manager",comparator:l},{headerName:"Thumbnail",field:"thumbnail",cellRenderer:function(e){return(0,i.jsx)("img",{src:e.value,className:"thumbnail",alt:"Thumbnail"})},sortable:!1,filter:!1,editable:!1},{headerName:"Last Modified",field:"lastModified",filter:"agDateColumnFilter",cellEditor:"agDatePicker"}],c=a(12),u=["Draft","Scheduled","Active","Completed","Cancelled"],s=["Email","Social Media","Display","SMS","Search"],d=a(948),m=a(961);const f=function(e){var t=e.children,a=n.useRef(null);return a.current||(a.current=document.createElement("div"),a.current.className="modal-container"),(0,n.useEffect)(function(){var e=document.getElementById("modal-root");return e&&e.appendChild(a.current),function(){a.current&&e&&e.removeChild(a.current)}},[]),(0,m.createPortal)((0,i.jsx)("div",{children:t}),a.current)};var p=a(346);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach(function(t){b(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function b(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i,l,o=[],c=!0,u=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=i.call(a)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}p.syG.registerModules([p.JKr]);const N=function(){var e=(0,n.useRef)(),t=(0,n.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Array.from({length:e}).map(function(e,t){var a=c.a.number.int({min:1e3,max:1e5}),n=c.a.number.int({min:50,max:a}),r=c.a.finance.amount(100,1e5,2),i=c.a.finance.amount(Number(r),Number(r)+2e4,2);return{campaignId:"".concat(1e3+t),campaignName:c.a.company.catchPhrase(),clientName:c.a.company.name(),startDate:c.a.date.past().toLocaleDateString(),endDate:c.a.date.future().toLocaleDateString(),status:c.a.helpers.arrayElement(u),budget:Number(i),spent:Number(r),impressions:a,clicks:n,conversionRate:Number((n/a*100).toFixed(2)),channel:c.a.helpers.arrayElement(s),manager:c.a.person.fullName(),thumbnail:c.a.image.avatarGitHub(),lastModified:c.a.date.recent().toLocaleDateString()}})}(50)},[]),a=y((0,n.useState)(t),2),l=a[0],m=a[1],p=y((0,n.useState)(""),2),h=p[0],v=p[1],x=y((0,n.useState)(!1),2),N=x[0],j=x[1],C=y((0,n.useState)([]),2),S=C[0],D=C[1],w=y((0,n.useState)(""),2),k=w[0],O=w[1],F=y((0,n.useState)(""),2),M=F[0],E=F[1],P=(0,d.DP)(),R=(0,d.S2)(),I=P===d.Qy,A=(0,n.useMemo)(function(){return{resizable:!0,sortable:!0,filter:!0,flex:1,floatingFilter:!0,editable:!0,minWidth:200,maxWidth:300}},[]);(0,n.useEffect)(function(){var t;null!==(t=e.current)&&void 0!==t&&t.api&&(0===l.length?e.current.api.showNoRowsOverlay():e.current.api.hideOverlay())},[l]);var L=(0,n.useCallback)(function(e){var t=l.map(function(t){return t.campaignId===e.data.campaignId?e.data:t});m(t)},[l]),T=function(){var t,a=null===(t=e.current)||void 0===t?void 0:t.api;a&&(0===a.getDisplayedRowCount()?a.showNoRowsOverlay():a.hideOverlay())},G=(0,n.useCallback)(function(){var t,a=null===(t=e.current)||void 0===t?void 0:t.api;a&&(a.showLoadingOverlay(),setTimeout(function(){a.hideOverlay(),T()},1e3))},[]),$=function(){j(!1)};return(0,i.jsxs)("div",{className:"Ag-grid-container",children:[(0,i.jsxs)("div",{className:"theme-toggler",children:[(0,i.jsx)("input",{name:"theme-toggler",type:"checkbox",onChange:R}),(0,i.jsx)("label",{htmlFor:"theme-toggler",children:"Dark Mode"}),(0,i.jsx)("button",{className:"btn-export",onClick:function(){var t;null!==(t=e.current)&&void 0!==t&&t.api&&e.current.api.exportDataAsCsv({fileName:"campaigns.csv"})},children:"Export CSV"}),(0,i.jsx)("button",{className:"btn-mass-edit",onClick:function(){j(!0)},disabled:S.length<=1,style:{marginLeft:"10px"},children:"Mass Edit"})]}),(0,i.jsx)("input",{type:"text",className:"".concat(I?"dark-input":"light-input"),placeholder:"Search...",value:h,onChange:function(t){var a=t.target.value;v(a),e.current.api.setGridOption("quickFilterText",a)},id:"quickFilter",name:"quickFilter",style:{marginBottom:"10px",padding:"5px",font:"inherit"}}),(0,i.jsx)(r.W6,{ref:e,theme:P,rowData:l,columnDefs:o,onGridReady:function(e){l&&0!==l.length||e.api.showNoRowsOverlay()},defaultColDef:A,onCellEditingStopped:L,animateRows:!0,onFilterChanged:function(){var t;(null===(t=e.current)||void 0===t?void 0:t.api)&&T()},pagination:!0,rowSelection:"multiple",paginationPageSize:20,onPaginationChanged:G,onSelectionChanged:function(){var t=e.current.api.getSelectedNodes().map(function(e){return e.data});D(t)}}),N?(0,i.jsx)(f,{children:(0,i.jsx)("div",{className:"modal",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("h3",{children:"Mass Edit"}),(0,i.jsxs)("label",{children:["Field to Edit:",(0,i.jsxs)("select",{value:k,onChange:function(e){return O(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Select Field"}),(0,i.jsx)("option",{value:"campaignName",children:"CampaignName"}),(0,i.jsx)("option",{value:"clientName",children:"ClientName"}),(0,i.jsx)("option",{value:"startDate",children:"StartDate"}),(0,i.jsx)("option",{value:"endDate",children:"EndDate"}),(0,i.jsx)("option",{value:"status",children:"Status"}),(0,i.jsx)("option",{value:"budget",children:"Budget"}),(0,i.jsx)("option",{value:"spent",children:"Spent"}),(0,i.jsx)("option",{value:"impressions",children:"Impressions"}),(0,i.jsx)("option",{value:"clicks",children:"Clicks"}),(0,i.jsx)("option",{value:"conversionRate",children:"ConversionRate"}),(0,i.jsx)("option",{value:"channel",children:"Channel"}),(0,i.jsx)("option",{value:"manager",children:"Manager"}),(0,i.jsx)("option",{value:"campaign",children:"Campaign"}),(0,i.jsx)("option",{value:"lastModified",children:"Last Modified"})]})]}),(0,i.jsxs)("label",{children:["New Value:",(0,i.jsx)("input",{type:"text",value:M,onChange:function(e){return E(e.target.value)}})]}),(0,i.jsxs)("div",{className:"modal-actions",children:[(0,i.jsx)("button",{onClick:function(){var e=!0;switch(k){case"budget":case"spent":case"impressions":case"clicks":(isNaN(M)||""===M.trim())&&(e=!1,alert("".concat(k," must be a valid number.")));break;case"startDate":case"endDate":isNaN(Date.parse(M))&&(e=!1,alert("".concat(k," must be a valid date (e.g., DD-MM-YYYY).")));break;case"status":var t=["Draft","Scheduled","Active","Completed","Cancelled"];t.includes(M)||(e=!1,alert("".concat(k," must be one of: ").concat(t.join(", "),".")));break;case"channel":var a=["Email","Social Media","Display","SMS","Search"];a.includes(M)||(e=!1,alert("".concat(k," must be one of: ").concat(a.join(", "),".")))}if(e){var n=l.map(function(e){return S.some(function(t){return t.campaignId===e.campaignId})?g(g({},e),{},b({},k,M)):e});m(n),$()}},children:"Update"}),(0,i.jsx)("button",{onClick:$,children:"Cancel"})]})]})})}):null]})}}}]);